# ğŸª¶ Portfolio

> _Local-first. Markdown-driven. Privacy-first._

This repository hosts **Desmond Liewâ€™s personal portfolio** â€” a self-contained Flutter web app that serves as:
- A **Markdown-based publishing system**  
- A **privacy-preserving portfolio**  
- A **living archive** of work, philosophy, and experimentation  

Built for **GitHub Pages** deployment, this project uses no backend, no databases, and no trackers.

---

## âœ¨ Highlights

| Feature | Description |
|----------|--------------|
| **Local-first content** | All pages, posts, and projects live under `/assets/contents/`. |
| **Markdown-driven** | Renders front-matter and body using `flutter_markdown_plus`. |
| **Private & public visibility** | Encrypted markdown blocks (`:::cipher`) for sensitive work. |
| **AES-256 + Argon2id encryption** | Protects private sections with your passphrase. |
| **.env secrets** | Canary encryption keys & environment configs stored locally. |
| **Responsive & accessible** | Built with `responsive_framework` and Material 3 design. |
| **Multi-language support** | English ğŸ‡¬ğŸ‡§ â€¢ Chinese ğŸ‡¨ğŸ‡³ â€¢ Malay ğŸ‡²ğŸ‡¾ |
| **CI/CD with GitHub Pages** | Automatic deployment via `deploy_pages.yml`. |
| **Search & SEO-ready** | Manifest builder, sitemap, RSS, and OG metadata. |
| **Timeline visualization** | Chronological project and milestone tracking. |

---

## ğŸ—ï¸ Project Structure

```plaintext
lib/
â”œâ”€ app/              # App root: theme, router, config, DI
â”œâ”€ core/             # Reusable logic (models, crypto, manifest, markdown)
â”œâ”€ features/         # Pages (home, about, projects, blog, etc.)
â”‚  â”œâ”€ shell/         # App shell + navigation
â”‚  â”œâ”€ inner/         # Private dashboard and unlocked areas
â”‚  â”œâ”€ timeline/      # Timeline visual history
â”‚  â”œâ”€ meta/          # Personal philosophy, systems, metaphysics
â”‚  â”œâ”€ foundation/    # Ethics, accessibility, privacy pages
â”‚  â””â”€ contact/       # Contact and resume pages
â”œâ”€ widgets/          # Shared UI components (markdown, callouts, etc.)
â””â”€ tools/            # CLI utilities for encryption and content builds
````

### Assets

```plaintext
assets/
â””â”€ contents/
   â”œâ”€ pages/
   â”œâ”€ projects/
   â”œâ”€ blog/
   â”œâ”€ labs/
   â”œâ”€ library/
   â”œâ”€ meta/
   â”œâ”€ foundation/
   â””â”€ manifest.json      # generated by build_manifest.dart
```

---

## âš™ï¸ Getting Started

### 1. Clone the repository

```bash
git clone https://github.com/desmondliew/personal_portfolio.git
cd personal_portfolio
```

### 2. Install Flutter (latest stable)

Ensure Flutter 3.9 or above:

```bash
flutter doctor
```

### 3. Get dependencies

```bash
flutter pub get
```

### 4. Configure environment file

Create a `.env` file in the project root:

```bash
SITE_TITLE="Desmond Liew Portfolio"
BASE_URL="/personal_portfolio"
AUTH_CANARY_SALT=...
AUTH_CANARY_NONCE=...
AUTH_CANARY_DATA=...
AUTH_CANARY_MAC=...
```

ğŸ’¡ Generate canary keys via:

```bash
dart run lib/tools/gen_canary.dart "your-passphrase"
```

---

## ğŸš€ Running Locally

### Web (recommended for portfolio)

```bash
flutter run -d edge
# or
flutter run -d chrome
```

### Desktop (optional)

```bash
flutter run -d windows
flutter run -d linux
flutter run -d macos
```

---

## ğŸ§© Encryption Flow

Private markdown files (`visibility: private`) use embedded encryption blocks:

```md
:::cipher
algo: aes-256-gcm
kdf: argon2id
salt: <base64>
nonce: <base64>
body: |
<base64-ciphertext>
:::
```

You can encrypt plaintext markdown via:

```bash
dart run lib/tools/encrypt_markdown.dart
```

The app will decrypt them at runtime after successful local login using your passphrase.

---

## ğŸ” Authentication

* **No backend.**
  Login is client-only, using AES-GCM with key derived from the passphrase.
* **Canary verification.**
  A small encrypted `"ok"` token in `.env` ensures the passphrase is valid.
* **Persistence.**
  Session and theme stored in `SharedPreferences`, surviving reloads.
* **Lock/Unlock.**
  Controlled via `LockGate` widget; can manually lock to re-encrypt memory.

---

## ğŸŒ Localization

* Uses `flutter gen-l10n` with `app_en.arb`, `app_zh.arb`, and `app_ms.arb`.
* Locale changes persist and auto-detect browser language.
* All markdown files can include `lang:` front-matter for multi-language variants.

---

## ğŸ§± Theming

* Material 3 palette, responsive typography, and adaptive layout.
* Supports light/dark mode and color palettes.
* Current theme and brightness persist via `SharedPreferences`.

---

## ğŸ§© Timeline Feature

Displays a living record of Desmondâ€™s creative and technical milestones.

* Pulls entries from Markdown (`/assets/contents/meta/` or `/timeline/`)
* Auto-generates from front-matter (date, title, summary)
* Includes links to GitHub commits or release tags

---

## ğŸ§  Philosophy & Foundation

This portfolio integrates the philosophical works and reflections that guide Desmondâ€™s design and development principles:

| Section                | Description                                  |
| ---------------------- | -------------------------------------------- |
| **Ethics of LLMs**     | Evaluations of AI modelsâ€™ ethical frameworks |
| **Calm Technology**    | Essays on human-centric design systems       |
| **Justice Manifesto**  | Philosophical grounding for fair systems     |
| **Philosophy of Work** | Practical ethics for design & productivity   |
| **Systems Notes**      | Systemic thinking for digital tools          |

---

## âš™ï¸ Build & Deploy (GitHub Pages)

### Build release

```bash
flutter build web --release --base-href "/personal_portfolio/"
```

### Deploy manually

Push the `build/web/` folder to the `gh-pages` branch:

```bash
git subtree push --prefix build/web origin gh-pages
```

### CI/CD automation

`/.github/workflows/deploy_pages.yml` runs automatically on each `main` branch push:

* Runs `flutter build web --release`
* Generates sitemap, manifest, RSS
* Publishes to GitHub Pages

---

## ğŸ§° Tools

| Script                  | Purpose                                         |
| ----------------------- | ----------------------------------------------- |
| `encrypt_markdown.dart` | Encrypt private markdown bodies                 |
| `build_manifest.dart`   | Build content manifest (title, slug, tags)      |
| `gen_sitemap.dart`      | Generate `sitemap.xml` for SEO                  |
| `gen_rss.dart`          | Build `rss.xml` for blog posts                  |
| `gen_canary.dart`       | Generate AES-GCM canary for `.env` verification |

---

## ğŸ§¾ Content Authoring

### Writing new pages

Create a markdown file in `/assets/contents/pages/`:

```md
---
title: "About"
slug: "/about"
type: "page"
visibility: "public"
summary: "A reflection on my work and design."
---

Write in plain Markdown â€” headings, links, images supported.
```

### Making private content

Add `visibility: private` in front-matter and encrypt it using the CLI tool.

---

## ğŸ§© License

**Code:** MIT License Â© Desmond Liew
**Content:** All Rights Reserved unless stated otherwise.

---

## ğŸ§  Credits

Built with:

* Flutter (Material 3)
* go_router
* flutter_markdown_plus
* responsive_framework
* shared_preferences
* cryptography
* flutter_dotenv

Icons & Fonts:

* Google Fonts (Noto Sans, Noto Serif)
* Fluent UI / Material Icons

---

## ğŸ’¬ Quote

> â€œBuild once. Publish forever.â€
> *Every file you own, every idea you express, remains yours.*
